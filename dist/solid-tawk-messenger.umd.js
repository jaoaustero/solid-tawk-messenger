(function(n,a){typeof exports=="object"&&typeof module!="undefined"?module.exports=a(require("solid-js")):typeof define=="function"&&define.amd?define(["solid-js"],a):(n=typeof globalThis!="undefined"?globalThis:n||self,n["solid-tawk-messenger"]=a(n.solidJs))})(this,function(n){"use strict";const a=(w,i)=>!i||i.length===0?!1:i!=null&&i.constructor===w,g=({propertyId:w="",widgetId:i="",embedId:o=""})=>{if(o.length){if(!document.getElementById(o)){const r=document.createElement("div");r.id=o,document.body.appendChild(r)}Tawk_API.embedded=o}const d=document.createElement("script");d.async=!0,d.src=`https://embed.tawk.to/${w}/${i}`,d.charset="UTF-8",d.setAttribute("crossorigin","*");const s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(d,s)};return w=>{const i=n.mergeProps({propertyId:"",widgetId:"",embedId:"",customStyle:{},ref:()=>{}},w);n.onMount(()=>{o()}),n.onCleanup(()=>{delete window.Tawk_API,delete window.Tawk_LoadStart});const o=()=>{if(!a(String,i.propertyId)){console.error("[Tawk-messenger-solid warn]: You didn't specified 'propertyId' property in the plugin.");return}if(!a(String,i.widgetId)){console.error("[Tawk-messenger-solid warn]: You didn't specified 'widgetId' property in the plugin.");return}!window||!document||d()},d=()=>{window.Tawk_API=window.Tawk_API||{},window.Tawk_LoadStart=new Date,g({propertyId:i.propertyId,widgetId:i.widgetId,embedId:i.embedId})},s={onLoad:e=>{window.addEventListener("tawkLoad",()=>{e()})},onStatusChange:e=>{window.addEventListener("tawkStatusChange",t=>{e(t.detail)})},onBeforeLoad:e=>{window.addEventListener("tawkBeforeLoad",()=>{e()})},onChatMaximized:e=>{window.addEventListener("tawkChatMaximized",()=>{e()})},onChatMinimized:e=>{window.addEventListener("tawkChatMinimized",()=>{e()})},onChatHidden:e=>{window.addEventListener("tawkChatHidden",()=>{e()})},onChatStarted:e=>{window.addEventListener("tawkChatStarted",()=>{e()})},onChatEnded:e=>{window.addEventListener("tawkChatEnded",()=>{e()})},onPrechatSubmit:e=>{window.addEventListener("tawkPrechatSubmit",t=>{e(t.detail)})},onOfflineSubmit:e=>{window.addEventListener("tawkOfflineSubmit",t=>{e(t.detail)})},onChatMessageVisitor:e=>{window.addEventListener("tawkChatMessageVisitor",t=>{e(t.detail)})},onChatMessageAgent:e=>{window.addEventListener("tawkChatMessageAgent",t=>{e(t.detail)})},onChatMessageSystem:e=>{window.addEventListener("tawkChatMessageSystem",t=>{e(t.detail)})},onAgentJoinChat:e=>{window.addEventListener("tawkAgentJoinChat",t=>{e(t.detail)})},onAgentLeaveChat:e=>{window.addEventListener("tawkAgentLeaveChat",t=>{e(t.detail)})},onChatSatisfaction:e=>{window.addEventListener("tawkChatSatisfaction",t=>{e(t.detail)})},onVisitorNameChanged:e=>{window.addEventListener("tawkVisitorNameChanged",t=>{e(t.detail)})},onFileUpload:e=>{window.addEventListener("tawkFileUpload",t=>{e(t.detail)})},onTagsUpdated:e=>{window.addEventListener("tawkTagsUpdated",t=>{e(t.detail)})},onUnreadCountChanged:e=>{window.addEventListener("tawkUnreadCountChanged",t=>{e(t.detail)})}},r={maximize:()=>{window.Tawk_API.maximize()},minimize:()=>{window.Tawk_API.minimize()},toggle:()=>{window.Tawk_API.toggle()},popup:()=>{window.Tawk_API.popup()},showWidget:()=>{window.Tawk_API.showWidget()},hideWidget:()=>{window.Tawk_API.hideWidget()},toggleVisibility:()=>{window.Tawk_API.toggleVisibility()},endChat:()=>{window.Tawk_API.endChat()}},k={getWindowType:()=>{window.Tawk_API.getWindowType()},getStatus:()=>{window.Tawk_API.getStatus()},isChatMaximized:()=>{window.Tawk_API.isChatMaximized()},isChatMinimized:()=>{window.Tawk_API.isChatMinimized()},isChatHidden:()=>{window.Tawk_API.isChatHidden()},isChatOngoing:()=>{window.Tawk_API.isChatOngoing()},isVisitorEngaged:()=>{window.Tawk_API.isVisitorEngaged()},onLoaded:()=>{window.Tawk_API.onLoaded},onBeforeLoaded:()=>{window.Tawk_API.onBeforeLoaded},widgetPosition:()=>{window.Tawk_API.widgetPosition()}},h={visitor:e=>{window.Tawk_API.visitor=e},setAttributes:(e,t)=>{window.Tawk_API.setAttributes(e,t)},addEvent:(e,t,m)=>{window.Tawk_API.addEvent(e,t,m)},addTags:(e,t)=>{window.Tawk_API.addTags(e,t)},removeTags:(e,t)=>{window.Tawk_API.removeTags(e,t)}};return i.ref({...s,...k,...r,...h}),null}});
